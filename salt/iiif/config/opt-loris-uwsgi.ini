[uwsgi]
chdir=/opt/loris/
pythonpath=/opt/loris/

uid=www-data
gid=www-data

# "automatically rewrite SCRIPT_NAME and PATH_INFO"
#   https://uwsgi-docs.readthedocs.io/en/latest/Options.html?highlight=cheap#manage-script-name
manage-script-name=True

master=True
processes=8
threads=1
vacuum=True

# necessary?
# https://uwsgi-docs-additions.readthedocs.io/en/latest/Options.html#max-requests
#max-requests=10000

harakiri=59 # no default? nginx timeout is 60s and uwsgi must die first

wsgi-file=/var/www/loris2/loris2.wsgi
{{ protocol }}=:5004

enable-threads=True
single-interpreter=True
